<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Personal portfolio showcasing projects and skills" />
  <title>My Portfolio</title>
  <link rel="icon" type="image/svg+xml" href="assets/images/favicon.svg" />
  <link rel="stylesheet" href="css/styles.css?v=4" />
  <link rel="stylesheet" href="css/typing-game.css" />
  <link rel="stylesheet" href="css/music-player.css" />
  <link rel="stylesheet" href="css/visualizer.css" />
  <!-- Restore dark theme before any IIFE to avoid light-color flash -->
  <script>if(localStorage.getItem('portfolio_theme')==='dark')document.documentElement.setAttribute('data-theme','dark');</script>
</head>
<body>
  <!-- Navigation -->
  <header class="header" id="header">
    <nav class="nav container">
      <div class="music-player" id="music-player"></div>
      <div class="nav__list-wrapper">
        <ul class="nav__list">
          <li><a href="#hero" class="nav__link">Home</a></li>
          <li><a href="#projects" class="nav__link">Projects</a></li>
          <li><a href="#skills" class="nav__link">Skills</a></li>
          <li><a href="#cv" class="nav__link">CV</a></li>
          <li><a href="#contact" class="nav__link">Contact</a></li>
        </ul>
        <div class="nav__indicator" id="nav-indicator"></div>
      </div>
      <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
        <svg class="theme-toggle__icon" viewBox="0 0 24 24" width="22" height="22">
          <defs>
            <mask id="moon-mask">
              <rect x="0" y="0" width="24" height="24" fill="white"/>
              <circle class="theme-toggle__cutout" cx="18" cy="6" r="0" fill="black"/>
            </mask>
          </defs>
          <!-- Sun rays -->
          <g class="theme-toggle__rays" stroke="currentColor" stroke-width="2" stroke-linecap="round">
            <line x1="12" y1="1" x2="12" y2="3"/>
            <line x1="12" y1="21" x2="12" y2="23"/>
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
            <line x1="1" y1="12" x2="3" y2="12"/>
            <line x1="21" y1="12" x2="23" y2="12"/>
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
          </g>
          <!-- Sun/Moon body -->
          <circle class="theme-toggle__body" cx="12" cy="12" r="5" fill="currentColor" mask="url(#moon-mask)"/>
        </svg>
      </button>
      <script>
        (function(){if(document.documentElement.getAttribute('data-theme')!=='dark')return;
        var b=document.querySelector('.theme-toggle__body'),c=document.querySelector('.theme-toggle__cutout');
        if(b)b.setAttribute('r','8');if(c){c.setAttribute('r','7');c.setAttribute('cx','17');c.setAttribute('cy','7');}})();
      </script>
      <button class="nav__toggle" id="nav-toggle" aria-label="Toggle navigation">
        <span></span><span></span><span></span>
      </button>
    </nav>
  </header>

  <main>
    <!-- Hero Section — Typing Game -->
    <section class="hero section" id="hero">
      <div class="container hero__content">
        <h2 class="section__title">Colombat Paolo - Typing Game</h2>
        <div class="typing-game" id="typing-game"></div>
      </div>
      <a href="#projects" class="scroll-hint" id="scroll-hint" aria-label="Scroll down">
        <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"/></svg>
      </a>
    </section>

    <!-- Projects Section -->
    <section class="projects section" id="projects">
      <div class="container">
        <h2 class="section__title">Projects</h2>
        <div class="projects__grid" id="projects-grid">
          <!-- Project cards are rendered by js/main.js from js/data.js -->
        </div>
      </div>
    </section>

    <!-- Skills Section -->
    <section class="skills section" id="skills">
      <div class="container">
        <h2 class="section__title">Skills</h2>
        <div class="skills__grid" id="skills-grid">
          <!-- Skill items are rendered by js/main.js from js/data.js -->
        </div>
      </div>
    </section>

    <!-- CV Section -->
    <section class="cv-section section" id="cv">
      <div class="container">
        <h2 class="section__title">Curriculum Vitae</h2>
        <div class="cv-section__card">
          <div class="cv-section__viewer">
            <iframe src="assets/doc/CV_Paolo.pdf" title="CV Paolo"></iframe>
          </div>
          <div class="cv-section__footer">
            <a href="assets/doc/CV_Paolo.pdf" download="CV_Paolo.pdf" class="btn btn--primary">Télécharger le CV</a>
          </div>
        </div>
      </div>
    </section>

    <!-- Contact Section -->
    <section class="contact section" id="contact">
      <div class="container">
        <h2 class="section__title">Contact</h2>
        <form class="contact__form" id="contact-form" action="https://formspree.io/f/mkovoawq" method="POST">
          <!-- Honeypot anti-spam (hidden from users) -->
          <input type="text" name="_gotcha" style="display:none" tabindex="-1" autocomplete="off" />
          <div class="form__group">
            <label for="name">Name</label>
            <input type="text" id="name" name="name" required minlength="2" maxlength="100" />
          </div>
          <div class="form__group">
            <label for="email">Email</label>
            <input type="email" id="email" name="email" required maxlength="254" />
          </div>
          <div class="form__group">
            <label for="message">Message</label>
            <textarea id="message" name="message" rows="5" required minlength="10" maxlength="3000"></textarea>
          </div>
          <div class="form__actions">
            <button type="submit" class="btn btn--primary">Send Message</button>
          </div>
          <p id="form-status" class="form__status" style="display:none;"></p>
        </form>
      </div>
    </section>

  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <p>&copy; <span id="year"></span> Colombat Paolo. All rights reserved.</p>
      <ul class="footer__socials">
        <li><a href="https://github.com/Paolo-clb" aria-label="GitHub" target="_blank" rel="noopener">GitHub</a></li>
        <li><a href="https://www.linkedin.com/in/paolo-colombat-849503371/" aria-label="LinkedIn" target="_blank" rel="noopener">LinkedIn</a></li>
      </ul>
    </div>
  </footer>

  <script src="js/data.js"></script>
  <script src="js/typing-texts.js"></script>
  <script src="js/typing-game.js"></script>
  <script src="js/music-player.js"></script>
  <script src="js/visualizer.js"></script>
  <script src="js/main.js"></script>
</body>
</html>
